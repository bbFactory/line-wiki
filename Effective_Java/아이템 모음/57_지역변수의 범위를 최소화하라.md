# 9장. 일반적인 프로그래밍 원칙(p343~384)

> 이번 장에서는 자바 언어의 핵심 요소라고 할 수 있는 다음 내용들을 다룬다.
>
> - 지역변수
> - 제어구조
> - 라이브러리
> - 데이터 타입 
> - 리플렉션과(언어 경계를 넘나드는 기능) 
> - 네이티브 메서드
> - 최적화와 명명 규칙

## 아이템 57. 지역변수의 범위를 최소화하라(p344~346)

지역변수의 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고 오류 가능성은 낮아진다.

**지역변수의 범위를 줄이는 가장 강력한 기법은 실제 사용 시점에 선언하는 것이다.** 그렇지 않고 코드 블록의 첫머리나 블록 밖에 지역변수를 선언하는 경우 가독성이 떨어지고 심지어 선언한 변수를 깜빡할 수 있다. 

**거의 모든 지역변수는 선언과 동시에 초기화해야 한다.** 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미루자. 다만 try-catch 문에서 변수 값을 try 블록 바깥에서 사용해야 한다면 try 블록 앞에서 선언하자.

반복문에서도 사용하는 변수들의 범위를 최소화해주자. while문보다는 for 문이 범위를 좁히기 좋다. 그래서 컬렉션이나 배열을 순회할 경우 다음의 코드를 권장한다.

```java
for (Element e : c) {
  ... // e로 무언가를 한다.
}
```

반복자를 사용해야 하는 상황이면 for-each 문 대신 전통적인 for 문을 쓰는 것이 낫다.

```	java
for (Iterator<Element> i = c.iterator(); i.hasNext(); ) {
    Element e = i.next();
    ... // e와 i로 무언가를 한다.
}
```

반복문이 사용한 원소와 반복자의 유효 범위가 반복문 종료와 함께 끝나기 때문에 컴파일시에 유리하다. for 문에서 선언하지 않은 이름의 변수를 사용하려 하면, 컴파일 오류를 보기 때문이다. 다음 예를 보자.

```java
for (Iterator<Element> i = c.iterator(); i.hasNext(); ) {
	Element e = i.next();
	... // e와 i로 무언가를 한다.
}
...
    
// 다음 코드는 "i를 찾을 수 없다"는 컴파일 오류를 낸다.
for (Iterator<Element> i2 = c2. iterator(); i.hasNext(); ) {
	Element e2 = i2.next();
	... // e2와 12로 무언가를 한다.
}
```

마지막으로 지역변수 범위를 최소화하는 방법은 **메서드를 작게 유지하고 한 가지 기능에 집중하는 것이다.** 하나의 메서드가 다른 기능에 발을 걸치다 보면 지역변수에 다른 메서드가 접근할 수 있으므로, 메서드는 가능한 기능별로 쪼개 쓰자. 


