# 6장. 열거 타입과 애너테이션(p207~252)

## 아이템 41. 정의하려는 것이 타입이라면 마커 인터페이스를 사용하라(249~251)

> **마커 인터페이스(marker interface)**
>
> - 아무 메서드도 가지지 않고, 단지 자신을 구현하는 클래스가 특정 속성을 지닌다는 것을 표시해주는 인터페이스이다. 
>
> - Serializable 인터페이스(12장)는 마커 인터페이스의 좋은 예다. Serializable은 자신을 구현한 클래스의 인스턴스는 ObjectOutputStream을 통해 쓸(write) 수 있다고, 즉 직렬화(serialization)할 수 있다고 알려준다.

**타입 정의가 목적이라면, 마커 애너테이션(아이템 39)보다는 마커 인터페이스를 사용하자.** 마커 인터페이스는 엄연한 타입이다. 따라서 타입에 문제가 있다면 컴파일타임에 오류를 잡아낼 수 있다. 하지만 마커 애너테이션은 컴파일타임이 아닌 런타임에야 오류를 잡아낼 수 있다.

**또한 마커 인터페이스는 마커 애너테이션에 비해 적용 대상을 보다 정밀하게 지정할 수 있다.** 마커 애너테이션이 적용 대상(@Target)을 ElementType.TYPE으로 선언한 경우, 모든 타입(클래스, 인터페이스, 열거 타입, 애너테이션)에 애너테이션을 달 수 있다. 즉, 적용 대상이 세밀하지 못하다고 할 수 있다. 이에 반해, 인터페이스는 적용 대상을 자신을 구현/ 확장하는 클래스/ 인터페이스로만 한정지을 수 있다.

다만, **거대한 애너테이션 시스템의 지원을 받는 경우, 마커 애너테이션이 마커 인터페이스보다 낫다.** 애너테이션을 많이 쓰는 프레임워크 안에서라면 마커 애너테이션을 추가해서 쓰는 게 일관성을 높이기 때문이다.

또, 클래스나 인터페이스 외의 프로그램 요소들(모듈, 패키지, 필드, 지역변수 등)에 마킹하는 경우에도 애너테이션을 써야 한다(애초에 인터페이스는 클래스나 인터페이스에만 사용할 수 있다).

## 마무리

- 마커를 클래스나 인터페이스에 적용하는 경우, 다음을 고려하자.

  > "마킹한 객체를 메서드의 매개변수로 사용할 일이 있을까?"
  >
  > 답이 "그렇다"이면 마커 인터페이스를 써야 한다. 이렇게 하면 그 마커 인터페이스를 해당 메서드의 매개변수 타입으로 사용하여 컴파일타임에 오류를 잡아낼 수 있다.
  >
  > 만약 답이 "절대 없다"라면 마커 애너테이션을 사용하자.

  

